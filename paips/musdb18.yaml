modules:
- audio_tasks
Tasks:
  MUSDB18Reader:
    class: AudioDatasetFromDirectory
    dataset_path: /datasets/musdb18/wav
    parents_as_columns: #Use parent folders names as these columns
    - partition
    - song
    stem_as_column: instrument #Use filename as this column
  Framer:
    class: Framer
    in: MUSDB18Reader->out
    time_column: samples_count
    frame_size: 12288
    hop_size: 12288
    in_memory: True
  Mixer:
    class: Zipper
    in: Framer->out
    zip_by:
    - song
    - start
    columns:
    - filename
    - start
    - end
    - sampling_rate
    - instrument
  Partition:
    class: Split
    in: Mixer->out
    split_col: partition
    in_memory: True
  TrainGenerator:
    class: DeytahGenerator
    in: Partition->train
    deytah_config: deytah_configs/aligned_mix.yaml #Implementar incrustacion de configs
    deytah_x: mixture
    deytah_y: sources
    batch_size: 16
    in_memory: True
  DienenModel: #Implementar
    class: DienenModel
    generator: TrainGenerator->out
    dienen_config: dienen_configs/dual_cnn_stft.yaml



  
  




